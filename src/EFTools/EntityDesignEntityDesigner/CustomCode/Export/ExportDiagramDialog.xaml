<!-- Copyright (c) Microsoft.  All Rights Reserved.  Licensed under the MIT license.  See License.txt in the project root for license information. -->

<vs:DialogWindow x:Class="Microsoft.Data.Entity.Design.EntityDesigner.View.Export.ExportDiagramDialog"
                 x:ClassModifier="internal"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:vs="clr-namespace:Microsoft.VisualStudio.PlatformUI;assembly=Microsoft.VisualStudio.Shell.15.0"
                 xmlns:shell="clr-namespace:Microsoft.VisualStudio.Shell;assembly=Microsoft.VisualStudio.Shell.15.0"
                 xmlns:props="clr-namespace:Microsoft.Data.Entity.Design.EntityDesigner.Properties"
                 mc:Ignorable="d"
                 d:DesignWidth="450"
                 d:DesignHeight="210"
                 Width="450"
                 Height="260"
                 ShowInTaskbar="False"
                 WindowStartupLocation="CenterOwner"
                 ResizeMode="NoResize"
                 FontFamily="{DynamicResource VsFont.EnvironmentFontFamily}"
                 FontSize="{DynamicResource VsFont.EnvironmentFontSize}"
                 Background="{DynamicResource VsBrush.ToolWindowBackground}"
                 Title="{x:Static props:Resources.ExportImage_DialogTitle}">

    <Window.Resources>
        <!-- Use VS themed dialog styles for controls -->
        <Style TargetType="TextBox" BasedOn="{StaticResource {x:Static shell:VsResourceKeys.TextBoxStyleKey}}"/>
        <Style TargetType="ComboBox" BasedOn="{StaticResource {x:Static shell:VsResourceKeys.ComboBoxStyleKey}}"/>
        <Style TargetType="Button" BasedOn="{StaticResource {x:Static shell:VsResourceKeys.ButtonStyleKey}}"/>
        <Style TargetType="CheckBox" BasedOn="{StaticResource {x:Static shell:VsResourceKeys.CheckBoxStyleKey}}"/>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource VsBrush.WindowText}"/>
        </Style>
    </Window.Resources>

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <!-- Location Label -->
        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                   Text="{x:Static props:Resources.ExportImage_LocationLabel}"
                   Margin="0,0,0,4" />

        <!-- Directory TextBox and Browse Button -->
        <TextBox Grid.Row="1" Grid.Column="0"
                 x:Name="_directoryTextBox"
                 Margin="0,0,8,8" />
        <Button Grid.Row="1" Grid.Column="1"
                x:Name="_browseButton"
                Content="{x:Static props:Resources.ExportImage_BrowseButton}"
                MinWidth="75"
                Margin="0,0,0,8"
                Click="BrowseButton_Click" />

        <!-- File Name and Format Row -->
        <Grid Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- File Name Label -->
            <TextBlock Grid.Row="0" Grid.Column="0"
                       Text="{x:Static props:Resources.ExportImage_FileNameLabel}"
                       Margin="0,0,8,4" />

            <!-- Format Label -->
            <TextBlock Grid.Row="0" Grid.Column="1"
                       Text="{x:Static props:Resources.ExportImage_FormatLabel}"
                       Margin="0,0,0,4" />

            <!-- File Name TextBox -->
            <TextBox Grid.Row="1" Grid.Column="0"
                     x:Name="_fileNameTextBox"
                     Margin="0,0,8,8" />

            <!-- Format ComboBox -->
            <ComboBox Grid.Row="1" Grid.Column="1"
                      x:Name="_formatComboBox"
                      MinWidth="150"
                      Margin="0,0,0,8"
                      SelectionChanged="FormatComboBox_SelectionChanged" />
        </Grid>

        <!-- Options Label -->
        <TextBlock Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2"
                   Text="{x:Static props:Resources.ExportImage_OptionsLabel}"
                   Margin="0,4,0,4" />

        <!-- Checkboxes -->
        <StackPanel Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2"
                    Orientation="Horizontal"
                    Margin="0,0,0,8">
            <CheckBox x:Name="_transparentBackgroundCheckBox"
                      Content="{x:Static props:Resources.ExportImage_TransparentBackground}"
                      Margin="0,0,16,0" />
            <CheckBox x:Name="_showTypesCheckBox"
                      Content="{x:Static props:Resources.ExportImage_ShowTypes}" />
        </StackPanel>

        <!-- Buttons -->
        <StackPanel Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,8,0,0">
            <Button x:Name="_exportButton"
                    Content="{x:Static props:Resources.ExportImage_ExportButton}"
                    MinWidth="75"
                    Margin="0,0,8,0"
                    IsDefault="True"
                    Click="ExportButton_Click" />
            <Button x:Name="_cancelButton"
                    Content="{x:Static props:Resources.CustomDialog_CancelButton}"
                    MinWidth="75"
                    IsCancel="True"
                    Click="CancelButton_Click" />
        </StackPanel>
    </Grid>
</vs:DialogWindow>
